# おかり okari

## ~ this is a work in progress ~
Okari is a stupidly simple static site generator which converts CommonMark and GitHub Flavoured Markdown files to HTML pages.

The project is very much in its early stages and thus may feel incomplete. Check out [Future](#future) for a list of planned features. Feel free to help by expanding the list or sending PRs.

## Testing

If you so insist:

1. Create a source folder, e.g. `mkdir site`
2. Add Markdown files inside said folder, e.g.
    ```sh
    site
    ├── hello_world.md
    ├── index.md
    └── nested
        └── nested
            └── nested
                └── a.md
    ```
3. Build with `cargo build`
4. Generate with `./target/debug/okari site`

This will convert the files and slot them into `build`, i.e.:

```sh
build/
├── hello_world.html
├── index.html
└── nested
    └── nested
        └── nested
            └── a.html
```

Okari uses [`comrak`](https://docs.rs/comrak/latest/comrak/), a CommonMark and GitHub Flavoured Markdown compatible Markdown parser. Thus, any input **must** be compatible with one of the specs. Example file:

```md
title: Hello World!
+++

# Hello World

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec odio metus, facilisis sed ipsum nec, consectetur laoreet augue. Ut vitae consequat ligula.

1. first
2. second
3. third


[carlos-menezes.com](https://carlos-menezes.com)
```

## Future
This is an ever expandable list of features:
- [x] Handle subdirectories
- [ ] Generate common metatags
  - [x] `image`: currently autogenerated by Railway, could add image generation script?
  - [x] `description`
  - [x] `title`
- [ ] Generate sitemap
    ```xml
    <?xml version="1.0" encoding="UTF-8"?>
    <urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
        <url>
            <loc></loc>
            <lastmod></lastmod>
        </url>
    </urlset>
    ```
  - [ ] `date` (for `lastmod`: https://www.sitemaps.org/protocol.html#lastmoddef)
- [ ] Read config from stdin?